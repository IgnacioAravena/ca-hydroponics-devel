{% extends 'template_base.html' %}
{% load static %}

{% block menu %}
    {% include 'sidebar.html' %}

    <nav class="navbar shadow-sm">
        <a class="navbar-brand" id="sidebarCollapse" href="#">
            <img src="{% static 'img/logo.png' %}" width="34" height="34" alt="menu">
        </a>

        <ul class="nav navbar-nav abs-center-x">
            <li class="nav-item">
                <a class="nav-link" href="/farm/{{ farm_id }}">
                    <strong>Historial</strong>
                </a>
            </li>
        </ul>

    </nav>

{% endblock %}

{% block content %}
    <div class="row">
        <div class="col">
            <h4>{{ farm_name }}</h4>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <p>Temperatura del Aire<p>
            <div class="ct-chart-temp-air"></div>
            <script>
                var chart = new Chartist.Line('.ct-chart-temp-air', {
                    labels: ['Mon', 'Tue', 'Wed'],
                    series: [ {{ serie_temp_air }} ]
                },{
                    low: 0,
                    showArea: true,
                    showPoint: false,
                    fullWidth: true
                });

            </script>
            <p>{{ labels }}</p>
            <p>{{ serie_temp_air }}</p>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <p>Temperatura del Agua<p>
            <ul>
            {% for i in sensor_temp_water %}
                <li>{{ i }}</li>
            {% endfor %}
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <p>Luminosidad<p>
            <ul>
            {% for i in sensor_light %}
                <li>{{ i }}</li>
            {% endfor %}
            </ul>
        </div>
    </div>


        <div class="row">
        <div class="col">
            <p>Humedad<p>
            <ul>
            {% for i in sensor_wetness %}
                <li>{{ i }}</li>
            {% endfor %}
            </ul>
        </div>
    </div>


    <script>

                      chart.on('draw', function(data) {
            console.log("asdas");
  if(data.type === 'line' || data.type === 'area') {
    data.element.animate({
      d: {
        begin: 2000 * data.index,
        dur: 2000,
        from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),
        to: data.path.clone().stringify(),
        easing: Chartist.Svg.Easing.easeOutQuint
      }
    });
  }
});
    </script>
{% endblock %}
